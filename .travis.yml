#sudo: false

os:
 - linux

env:
 global:
  - LD_LIBRARY_PATH: /usr/local/lib

language: cpp

branches:
 only:
  - stable
  - malisz
  - dura

compiler:
 - gcc
 - clang

before_install:
  - echo "deb http://llvm.org/apt/precise/ llvm-toolchain-precise main" | sudo tee -a /etc/apt/sources.list
  - echo "deb http://llvm.org/apt/precise/ llvm-toolchain-precise-3.5 main" | sudo tee -a /etc/apt/sources.list

install:
 # SDL2
 - sudo apt-get -qq install build-essential
 - sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test
 - sudo apt-get -qq update
 - sudo apt-get -qq install g++-5
 - sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-5 90
 - sudo apt-get -qq --allow-unauthenticated install libstdc++-4.9-dev
 - sudo apt-get -qq --allow-unauthenticated install clang-3.5
 - sudo update-alternatives --install /usr/bin/clang++ clang++ /usr/bin/clang++-3.5 90
 - wget http://www.libsdl.org/release/SDL2-2.0.3.tar.gz
 - tar -zxvf SDL2-2.0.3.tar.gz
 - cd SDL2-2.0.3
 - ./configure && make && sudo make install
 - cd -
